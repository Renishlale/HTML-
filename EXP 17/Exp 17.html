 <!DOCTYPE html>
<html>
<head>
    <title>EXP 17 - Weather App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #74ebd5, #ACB6E5);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        #box {
            background: rgba(255,255,255,0.9);
            padding: 20px;
            width: 90%;
            max-width: 400px;
            border-radius: 10px;
            text-align: center;
            margin-top: 30px;
        }
        input {
            padding: 8px;
            width: 70%;
            border-radius: 5px;
            border: 1px solid #bbb;
        }
        button {
            padding: 8px 12px;
            border: none;
            background: #4CAF50;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover { background: #45a049; }
        .error { color: red; margin-top: 10px; }
        img { width: 80px; height: 80px; }
    </style>
</head>
<body>

<h2>Weather App - EXP 17</h2>

<div id="box">
    <input id="city" type="text" placeholder="Enter City">
    <button onclick="getWeather()">Get Weather</button>

    <div id="error" class="error"></div>

    <div id="result" style="display:none; margin-top:15px;">
        <h3 id="name"></h3>
        <img id="icon">
        <p id="desc"></p>
        <p>Temp: <span id="temp"></span>Â°C</p>
        <p>Humidity: <span id="hum"></span>%</p>
        <p>Wind: <span id="wind"></span> m/s</p>
    </div>
</div>

<script>
async function getWeather() {
    const key = "72edf30ba922edb1402c675c5892fa1e";
    const city = document.getElementById("city").value.trim();
    const err = document.getElementById("error");
    const box = document.getElementById("result");

    err.textContent = "";
    box.style.display = "none";

    if (!city) {
        err.textContent = "Enter a city name";
        return;
    }

    try {
        const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${key}&units=metric`);
        if (res.status === 404) {
            err.textContent = "City not found";
            return;
        }
        const data = await res.json();
        document.getElementById("name").textContent = data.name + ", " + data.sys.country;
        document.getElementById("temp").textContent = data.main.temp;
        document.getElementById("hum").textContent = data.main.humidity;
        document.getElementById("wind").textContent = data.wind.speed;
        document.getElementById("desc").textContent = data.weather[0].description;
        document.getElementById("icon").src = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;
        box.style.display = "block";
    } catch {
        err.textContent = "Network error or invalid key";
    }
}
</script>

</body>
</html>
